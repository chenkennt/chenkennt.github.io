<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Garbage Collection | Generated by docfx</title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Garbage Collection | Generated by docfx">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="http://ajax.aspnetcdn.com/ajax/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:nav" content="toc.html">
    <meta property="docfx:toc" content="documentation/toc.html">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
  </head>
  <body data-spy="scroll" data-target="#affix">
    <div id="wrapper">
      <header>
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              <a class="navbar-brand" href="#">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
            </div>
          </div>
        </nav>
        <div class="subnav navbar navbar-default">
          <div class="container" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content">
          <div class="sidenav">
            <a class="btn toc-toggle collapse">Show / Hide Table of Contents</a>
            <div class="sidetoggle">
              <div class="sidetoc">
                <iframe id="sidetoc" src="toc.html"></iframe>
              </div>
            </div>
          </div>
          <div class="article row grid-right"><div class="col-md-10">
            <article class="content wrap" id="_content">
              <h1 id="garbage-collection">Garbage Collection</h1>
<p>Garbage collection is one of most important features of the .NET managed
code platform. The garbage collector (GC) manages allocating and
releasing memory for you. You do not need to how to allocate and release
memory or manage the lifetime of the objects that use that memory. An
allocation is made any time you <em>new</em> an object or a value type is
boxed. Allocations are typically very fast. When there isn&#39;t enough
memory to allocate an object, the GC must collect and dispose of garbage
memory to make memory available for new allocations. This process is
called &quot;garbage collection&quot;.</p>
<p>The garbage collector serves as an automatic memory manager. It provides
the following benefits:</p>
<ul>
<li>Enables you to develop your application without having to
free memory.</li>
<li>Allocates objects on the managed heap efficiently.</li>
<li>Reclaims objects that are no longer being used, clears their memory,
and keeps the memory available for future allocations. Managed
objects automatically get clean content to start with, so their
constructors do not have to initialize every data field.</li>
<li>Provides memory safety by making sure that an object cannot use the
content of another object.</li>
</ul>
<p>The .NET GC is generational and has 3 generations. Each generation has
its own heap that it uses for storage of allocated objects. There is a
basic principle that most objects are either short lived or long lived.
Generation 0 is where objects are first allocated. Objects often don&#39;t
live past the first generation, since they are no longer in use (out of
scope) by the time the next garbage collection occurs. Generation 0 is
quick to collect because its associated heap is small. Generation 1 is
really a second chance space. Objects that are short lived but survive
the generation 0 collection (often based on coincidental timing) go to
generation 1. Generation 1 collections are also quick because its
associated heap is also small. The first two heaps remain small because
objects are either collected or are promoted to the next generation
heap. Generation 2 is where all long lived objects are. The generation 2
heap can grow to be very large, since the objects it contains can
survive a long time and there is no generation 3 heap to further promote
objects.</p>
<p>The GC has has an additional heap for large objects called the Large
Object Heap (LOH). It is reserved for objects that are 85,000 bytes or
greater. A byte array (Byte[]) with 85k elements would be an example
of a large object. Large objects are not allocated to the generational
heaps but are allocated directly to the LOH.</p>
<p>Generation 2 and LOH collections can take noticeable time for programs
that have run for a long time or operate over large amounts of data.
Large server programs are known to have heaps in the 10s of GBs. The GC
employs a variety of techniques to reduce the amount of time that it
blocks program execution. The primary approach is to do as much garbage
collection work as possible on a background thread in a way that does
not interfere with program execution. The GC also exposes a few ways for
developers to influence its behavior, which can be quite useful to
improve performance.</p>
<p>For more information, see <a href="http://msdn.microsoft.com/library/0xy59wtx.aspx">Garbage
Collection</a> on MSDN.</p>

            </article>
          </div>
          <div class="hidden-sm col-md-2" role="complementary">
            <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
            <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
            </nav>
          </div>
        </div>
      </div>
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright © 2015 Microsoft<br>Powered by Doc-as-Code</span>
          </div>
        </div>
      </footer>
    </div>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/bootstrap/3.3.5/bootstrap.min.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>