<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Struct AsyncTaskMethodBuilder | </title>
  <meta name="viewport" content="width=device-width">
  <meta name="title" content="Struct AsyncTaskMethodBuilder | ">
  
  <link rel="shortcut icon" href="../../favicon.ico">
  <link rel="stylesheet" href="http://ajax.aspnetcdn.com/ajax/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../styles/main.css">
  <meta property="docfx:nav" content="toc.html">
  <meta property="docfx:toc" content="reference/toc.html">
  <meta property="docfx:navrel" content="../../toc.html">
  <meta property="docfx:tocrel" content="../toc.html">
</head>
<body data-spy="scroll" data-target="#affix">
  <div id="wrapper">
    <header>
      <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
              <img id="logo" class="svg" src="../../logo.svg" alt="">
            </a>
          </div>
          <div class="collapse navbar-collapse" id="navbar">
          </div>
        </div>
      </nav>
      <div class="subnav navbar navbar-default">
        <div class="container" id="breadcrumb">
          <ul class="breadcrumb">
            <li></li>
          </ul>
        </div>
      </div>
    </header>
    <div role="main" class="container body-content">
      <div class="sidenav">
        <a class="btn toc-toggle collapse">Show / Hide Table of Contents</a>
        <div class="sidetoggle">
          <div class="sidetoc">
            <iframe id="sidetoc" src="../toc.html"></iframe>
          </div>
        </div>
      </div>
      <div class="article row grid-right"><div class="col-md-10">
        <article class="content wrap" id="_content">
          
        <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Runtime/CompilerServices/AsyncMethodBuilder.cs/#L274" class="btn btn-primary pull-right mobile-hide">
        <!--<span class="glyphicon glyphicon-eye-open">&nbsp;</span>-->View Source
      </a>
      <h1 id="AsyncTaskMethodBuilder">Struct AsyncTaskMethodBuilder</h1>
      <div class="markdown level0 summary"><p>Provides a builder for asynchronous methods that return <a href="System.Threading.Tasks.Task.html">System.Threading.Tasks.Task</a>.
This type is intended for compiler use only.</p>
</div>
      <div class="markdown level0 conceptual"></div>
      <h6><strong>Namespace</strong>:System.Runtime.CompilerServices</h6>
      <h6><strong>Assembly</strong>:mscorlib.dll</h6>
      <h5 id="AsyncTaskMethodBuilder_syntax">Syntax</h5>
      <div class="codewrapper">
        <pre><code class="lang-csharp hljs">public struct AsyncTaskMethodBuilder</code></pre>
      </div>
      <h5 id="AsyncTaskMethodBuilder_remarks"><strong>Remarks<strong></strong></strong></h5>
      <div class="markdown level0 remarks"><p>AsyncTaskMethodBuilder is a value type, and thus it is copied by value.
Prior to being copied, one of its Task, SetResult, or SetException members must be accessed,
or else the copies may end up building distinct Task instances.</p>
</div>
      <h3 id="properties">Properties</h3>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Runtime/CompilerServices/AsyncMethodBuilder.cs/#L364">View Source</a>
      </span>
  <h4 id="Task">Task</h4>
  <div class="markdown level1 summary"><p>Gets the <a href="System.Threading.Tasks.Task.html">System.Threading.Tasks.Task</a> for this builder.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task Task { get; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a href="System.Threading.Tasks.Task.html" name="System.Threading.Tasks.Task">Task</a></td>
        <td><p>The <see cref="T:System.Threading.Tasks.Task"></see> representing the builder&#39;s asynchronous operation.</p>
</td>
      </tr>
    </tbody>
  </table>
      <h3 id="methods">Methods</h3>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Runtime/CompilerServices/AsyncMethodBuilder.cs/#L338">View Source</a>
      </span>
  <h4 id="AwaitOnCompleted_TAwaiter__TStateMachine__ref_TAwaiter__ref_TStateMachine_">AwaitOnCompleted&lt;TAwaiter, TStateMachine&gt;(ref TAwaiter, ref TStateMachine)</h4>
  <div class="markdown level1 summary"><p>Schedules the specified state machine to be pushed forward when the specified awaiter completes.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void AwaitOnCompleted<tawaiter, tstatemachine="">(ref TAwaiter awaiter, ref TStateMachine stateMachine)where TAwaiter : INotifyCompletion where TStateMachine : IAsyncStateMachine</tawaiter,></code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>TAwaiter</td>
        <td><em>awaiter</em></td>
        <td><p>The awaiter.</p>
</td>
      </tr>
      <tr>
        <td>TStateMachine</td>
        <td><em>stateMachine</em></td>
        <td><p>The state machine.</p>
</td>
      </tr>
    </tbody>
  </table>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Runtime/CompilerServices/AsyncMethodBuilder.cs/#L353">View Source</a>
      </span>
  <h4 id="AwaitUnsafeOnCompleted_TAwaiter__TStateMachine__ref_TAwaiter__ref_TStateMachine_">AwaitUnsafeOnCompleted&lt;TAwaiter, TStateMachine&gt;(ref TAwaiter, ref TStateMachine)</h4>
  <div class="markdown level1 summary"><p>Schedules the specified state machine to be pushed forward when the specified awaiter completes.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void AwaitUnsafeOnCompleted<tawaiter, tstatemachine="">(ref TAwaiter awaiter, ref TStateMachine stateMachine)where TAwaiter : ICriticalNotifyCompletion where TStateMachine : IAsyncStateMachine</tawaiter,></code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>TAwaiter</td>
        <td><em>awaiter</em></td>
        <td><p>The awaiter.</p>
</td>
      </tr>
      <tr>
        <td>TStateMachine</td>
        <td><em>stateMachine</em></td>
        <td><p>The state machine.</p>
</td>
      </tr>
    </tbody>
  </table>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Runtime/CompilerServices/AsyncMethodBuilder.cs/#L285">View Source</a>
      </span>
  <h4 id="Create__">Create()</h4>
  <div class="markdown level1 summary"><p>Initializes a new <a href="System.Runtime.CompilerServices.AsyncTaskMethodBuilder.html">System.Runtime.CompilerServices.AsyncTaskMethodBuilder</a>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static AsyncTaskMethodBuilder Create()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a href="System.Runtime.CompilerServices.AsyncTaskMethodBuilder.html" name="System.Runtime.CompilerServices.AsyncTaskMethodBuilder">AsyncTaskMethodBuilder</a></td>
        <td><p>The initialized <see cref="T:System.Runtime.CompilerServices.AsyncTaskMethodBuilder"></see>.</p>
</td>
      </tr>
    </tbody>
  </table>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Runtime/CompilerServices/AsyncMethodBuilder.cs/#L387">View Source</a>
      </span>
  <h4 id="SetException_Exception_">SetException(Exception)</h4>
  <div class="markdown level1 summary"><p>Completes the <a href="System.Threading.Tasks.Task.html">System.Threading.Tasks.Task</a> in the
<a href="System.Threading.Tasks.TaskStatus.html">System.Threading.Tasks.TaskStatus</a> state with the specified exception.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SetException(Exception exception)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a href="System.Exception.html" name="System.Exception">Exception</a></td>
        <td><em>exception</em></td>
        <td><p>The <a href="System.Exception.html">System.Exception</a> to use to fault the task.</p>
</td>
      </tr>
    </tbody>
  </table>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Runtime/CompilerServices/AsyncMethodBuilder.cs/#L372">View Source</a>
      </span>
  <h4 id="SetResult__">SetResult()</h4>
  <div class="markdown level1 summary"><p>Completes the <a href="System.Threading.Tasks.Task.html">System.Threading.Tasks.Task</a> in the
<a href="System.Threading.Tasks.TaskStatus.html">System.Threading.Tasks.TaskStatus</a> state.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SetResult()</code></pre>
  </div>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Runtime/CompilerServices/AsyncMethodBuilder.cs/#L326">View Source</a>
      </span>
  <h4 id="SetStateMachine_IAsyncStateMachine_">SetStateMachine(IAsyncStateMachine)</h4>
  <div class="markdown level1 summary"><p>Associates the builder with the state machine it represents.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void SetStateMachine(IAsyncStateMachine stateMachine)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a href="System.Runtime.CompilerServices.IAsyncStateMachine.html" name="System.Runtime.CompilerServices.IAsyncStateMachine">IAsyncStateMachine</a></td>
        <td><em>stateMachine</em></td>
        <td><p>The heap-allocated state machine object.</p>
</td>
      </tr>
    </tbody>
  </table>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Runtime/CompilerServices/AsyncMethodBuilder.cs/#L295">View Source</a>
      </span>
  <h4 id="Start_TStateMachine__ref_TStateMachine_">Start&lt;TStateMachine&gt;(ref TStateMachine)</h4>
  <div class="markdown level1 summary"><p>Initiates the builder&#39;s execution with the associated state machine.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Start<tstatemachine>(ref TStateMachine stateMachine)where TStateMachine : IAsyncStateMachine</tstatemachine></code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>TStateMachine</td>
        <td><em>stateMachine</em></td>
        <td><p>The state machine instance, passed by reference.</p>
</td>
      </tr>
    </tbody>
  </table>

</article>
</div>
<div class="hidden-sm col-md-2" role="complementary">
  <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
  </nav>
</div>
</div>
</div>
<footer>
  <div class="grad-bottom"></div>
  <div class="footer">
    <div class="container">
      <span class="pull-right">
        <a href="#top">Back to top</a>
      </span>
      <span>Copyright © 2015 Microsoft<br>Powered by Doc-as-Code</span>
    </div>
  </div>
</footer>
</div>
<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/bootstrap/3.3.5/bootstrap.min.js"></script>
<script type="text/javascript" src="../../styles/main.js"></script>
</body>
</html>
