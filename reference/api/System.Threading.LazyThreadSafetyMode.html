<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Enum LazyThreadSafetyMode | </title>
  <meta name="viewport" content="width=device-width">
  <meta name="title" content="Enum LazyThreadSafetyMode | ">
  
  <link rel="shortcut icon" href="../../favicon.ico">
  <link rel="stylesheet" href="http://ajax.aspnetcdn.com/ajax/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../styles/main.css">
  <meta property="docfx:nav" content="toc.html">
  <meta property="docfx:toc" content="reference/toc.html">
  <meta property="docfx:navrel" content="../../toc.html">
  <meta property="docfx:tocrel" content="../toc.html">
</head>
<body data-spy="scroll" data-target="#affix">
  <div id="wrapper">
    <header>
      <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
              <img id="logo" class="svg" src="../../logo.svg" alt="">
            </a>
          </div>
          <div class="collapse navbar-collapse" id="navbar">
          </div>
        </div>
      </nav>
      <div class="subnav navbar navbar-default">
        <div class="container" id="breadcrumb">
          <ul class="breadcrumb">
            <li></li>
          </ul>
        </div>
      </div>
    </header>
    <div role="main" class="container body-content">
      <div class="sidenav">
        <a class="btn toc-toggle collapse">Show / Hide Table of Contents</a>
        <div class="sidetoggle">
          <div class="sidetoc">
            <iframe id="sidetoc" src="../toc.html"></iframe>
          </div>
        </div>
      </div>
      <div class="article row grid-right"><div class="col-md-10">
        <article class="content wrap" id="_content">
          
        <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Threading/LazyInitializer.cs/#L21" class="btn btn-primary pull-right mobile-hide">
        <!--<span class="glyphicon glyphicon-eye-open">&nbsp;</span>-->View Source
      </a>
      <h1 id="LazyThreadSafetyMode">Enum LazyThreadSafetyMode</h1>
      <div class="markdown level0 summary"><p>Specifies how a System.Threading.Lazy{T} instance should synchronize access among multiple threads.</p>
</div>
      <div class="markdown level0 conceptual"></div>
      <h6><strong>Namespace</strong>:System.Threading</h6>
      <h6><strong>Assembly</strong>:mscorlib.dll</h6>
      <h5 id="LazyThreadSafetyMode_syntax">Syntax</h5>
      <div class="codewrapper">
        <pre><code class="lang-csharp hljs">public enum LazyThreadSafetyMode</code></pre>
      </div>
      <h3 id="fields">Fields</h3>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Threading/LazyInitializer.cs/#L47">View Source</a>
      </span>
  <h4 id="ExecutionAndPublication">ExecutionAndPublication</h4>
  <div class="markdown level1 summary"><p>This mode uses locks to ensure that only a single thread can initialize a System.Threading.Lazy{T} instance in a thread-safe manner.  In general,
taken if this mode is used in conjunction with a System.Threading.Lazy{T} valueFactory delegate that uses locks internally, a deadlock can occur if not
handled carefully.  If valueFactory throws an exception when theSystem.Threading.Lazy{T} is initialized, the exception will be cached and returned on
subsequent accesses to Value. Also, if valueFactory recursively accesses Value on this System.Threading.Lazy{T} instance, a  <a href="System.InvalidOperationException.html">InvalidOperationException</a> will be thrown.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">ExecutionAndPublication = 2</code></pre>
  </div>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Threading/LazyInitializer.cs/#L29">View Source</a>
      </span>
  <h4 id="None">None</h4>
  <div class="markdown level1 summary"><p>This mode makes no guarantees around the thread-safety of the System.Threading.Lazy{T} instance.  If used from multiple threads, the behavior of the System.Threading.Lazy{T} is undefined.
This mode should be used when a System.Threading.Lazy{T} is guaranteed to never be initialized from more than one thread simultaneously and high performance is crucial.
If valueFactory throws an exception when the System.Threading.Lazy{T} is initialized, the exception will be cached and returned on subsequent accesses to Value. Also, if valueFactory recursively
accesses Value on this System.Threading.Lazy{T} instance, a <a href="System.InvalidOperationException.html">InvalidOperationException</a> will be thrown.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">None = 0</code></pre>
  </div>

      <span class="small pull-right mobile-hide">
      <a href="https://github.com/chenkennt/coreclr/blob/master/src/mscorlib/src/System/Threading/LazyInitializer.cs/#L39">View Source</a>
      </span>
  <h4 id="PublicationOnly">PublicationOnly</h4>
  <div class="markdown level1 summary"><p>When multiple threads attempt to simultaneously initialize a System.Threading.Lazy{T} instance, this mode allows each thread to execute the
valueFactory but only the first thread to complete initialization will be allowed to set the final value of the  System.Threading.Lazy{T}.
Once initialized successfully, any future calls to Value will return the cached result.  If valueFactory throws an exception on any thread, that exception will be
propagated out of Value. If any thread executes valueFactory without throwing an exception and, therefore, successfully sets the value, that value will be returned on
subsequent accesses to Value from any thread.  If no thread succeeds in setting the value, IsValueCreated will remain false and subsequent accesses to Value will result in
the valueFactory delegate re-executing.  Also, if valueFactory recursively accesses Value on this  System.Threading.Lazy{T} instance, an exception will NOT be thrown.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">PublicationOnly = 1</code></pre>
  </div>

</article>
</div>
<div class="hidden-sm col-md-2" role="complementary">
  <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
    <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
  </nav>
</div>
</div>
</div>
<footer>
  <div class="grad-bottom"></div>
  <div class="footer">
    <div class="container">
      <span class="pull-right">
        <a href="#top">Back to top</a>
      </span>
      <span>Copyright © 2015 Microsoft<br>Powered by Doc-as-Code</span>
    </div>
  </div>
</footer>
</div>
<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/bootstrap/3.3.5/bootstrap.min.js"></script>
<script type="text/javascript" src="../../styles/main.js"></script>
</body>
</html>
